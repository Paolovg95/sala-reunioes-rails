<h1>Reserva de Sala</h1>

<table class="table bg-transparent">
  <thead>
    <tr>
      <th id="col-Horario">Hor√°rio</th>
      <% Meeting::DAYS.each do |meeting| %>
        <th id="col-<%=meeting%>"><%= "#{meeting}"%></th>
      <% end %>
    </tr>
  </thead>

  <tbody class="table table-striped">
    <% Meeting::TIMES.each do |time| %>
      <tr class="bg-light">
        <th id="row-<%=time%>"><%="#{time}:00"%></th>

        <% @meetings.each do |meeting| %>
          <% if meeting.time == time && meeting.slot == nil %>
            <div data-controller="insert-into-table">
              <div data-insert-into-table-target="items">
                <td><%= link_to "Disponivel", new_meeting_slot_path(meeting),class:'bg-transparent'%></td>
              </div>
            </div>

          <% elsif meeting.time == time && meeting.slot != nil %>
            <td>Reservado para
              <strong><%= meeting.slot.user.first_name%></strong>
                <%= link_to meeting_path(meeting) do %>
                  <i class="fa fa-undo bg-transparent"></i>
                <% end %>
            </td>
          <% end %>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
